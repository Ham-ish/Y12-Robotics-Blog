# Robotics Blog 

## 4/9/23: Lots of Progress Today

### Overveiw

Last week I said that I would:

- Reprint the hand so there is somewhere to put the servos

- Attach all fingers to reprinted hand

- Attach thumb joint piece to strong enough servo and a bearing so that it moves

of those things I have done:

- none of them, but Check Out This Cool Stuff

### Cool Stuff 1: Flex Sensor

Last week I suggested controlling the servos that are moving the fingers with a flex sensor, so I did that while I waited for some other things to print. THe idea is that I would connect 5 flex sensors to my fingers to have manual control of the robot fingers, without having to deal with potentiometers.

I created a system that would read the value of a Flex sensor when you pressed a button, and then used that system to find a min and a max value for the flex sensor, which will be its values when the humans finger is extended and bent, and then mapped those values to the servo numbers for straight and bent fingers.

Here is the code that I used:

```
#include <Servo.h>
Servo thumbServo;  //define Srevos
Servo pointServo;
int flex1_max;
int flex2_max;
int flex3_max;
int flex4_max;
int flex5_max;
int flex1_min;
int flex2_min;
int flex3_min;
int flex4_min;
int flex5_min;
int flex1Pin = A0;  // Define the pin numbers for the flex sensors
int flex2Pin = A1;
int flex3Pin = A2;
int flex4Pin = A3;
int flex5Pin = A4;

int buttonPin = 2;

void buttonWait(int buttonPin) {  //define buttonWaitto allow button to wait
    int buttonState = 0;
  while (1) {
    buttonState = digitalRead(buttonPin);
    if (buttonState == HIGH) {
      return;
    }
  }
}

void setup() {
  delay(100);
  thumbServo.write(0);
  Serial.println("Ready for Max values");
  Serial.begin(9600);
  thumbServo.attach(10);
  pointServo.attach(9);
  buttonWait(buttonPin);
  flex1_max = analogRead(flex1Pin);  //find each Flex sensors values when straight
  flex2_max = analogRead(flex2Pin);
  flex3_max = analogRead(flex3Pin);
  flex4_max = analogRead(flex4Pin);
  flex5_max = analogRead(flex5Pin);
  Serial.println("Max values obtained");
  delay(1000);  //wait so that button does not happen twice
  Serial.println("Ready for Min values");
  buttonWait(buttonPin);
  flex1_min = analogRead(flex1Pin);  //Find each Flex sensors values when bent
  flex2_min = analogRead(flex2Pin);
  flex3_min = analogRead(flex3Pin);
  flex4_min = analogRead(flex4Pin);
  flex5_min = analogRead(flex5Pin);
  Serial.println("Min values obtained");
  Serial.println("Ready...");
  delay(100);
  Serial.println("3!");
  delay(1000);
  Serial.println("2!");
  delay(1000);
  Serial.println("1!");
  delay(1000);  
  Serial.println("Begin");

}

void loop() {
  int flex1position;  //probably not the most efficient method of writing the flex values to the servos
  int flex2position;
  int flex3position;
  int flex4position;
  int flex5position;
  int servo1position;
  int servo2position;
  int servo3position;
  int servo4position;
  int servo5position;
  flex1position = analogRead(flex1Pin);
  flex2position = analogRead(flex2Pin);
  flex3position = analogRead(flex3Pin);
  flex4position = analogRead(flex4Pin);
  flex5position = analogRead(flex5Pin);
  servo1position = map(flex1position, flex1_min, flex1_max, 40, 0);
  servo2position = map(flex2position, flex2_min, flex2_max, 0, 60);
  servo3position = map(flex3position, flex3_min, flex3_max, 0, 60);
  servo4position = map(flex4position, flex4_min, flex4_max, 0, 60);
  servo5position = map(flex5position, flex5_min, flex5_max, 0, 60);
  servo1position = constrain(servo1position, 0, 180);
  servo2position = constrain(servo2position, 0, 180);
  servo3position = constrain(servo3position, 0, 180);
  servo4position = constrain(servo4position, 0, 180);
  servo5position = constrain(servo5position, 0, 180);
  thumbServo.write(servo1position);  //
  delay(50);
}
```
As you can see, I have made it capable of controlling 5 servos, but am only writing to 1. This was a test and I will scale it up later.


And here is a video of it Working:

<video src="../Images/IMG_0504.mov" controls="controls" style="max-width: 730px;">
</video>


The file of the video is too large for Github, so here are some images:

<img src="../Images/Full setup flex sens.png" width=400px alt="Wire Hellscape Overview">

<img src="../Images/Button 1 flex sens.png" width=400px alt="Button Press Max">

<img src="../Images/Button 2 flex sens.png" width=400px alt="Button Press Min">

<img src="../Images/Testing 1 flex sens.png" width=400px alt="Testing">

<img src="../Images/Testing 2 flex sens.png" width=400px alt="More Testing">

<img src="../Images/Working flex sens.png" width=400px alt="Servo close up">


### Cool Thing 2: Wrist Mechanisim

I got distracted again and made a mechanisim to move the hand. the mecanisim is inspired by the ligaments system in human Wrists. I made two actuators on two sides of the base of a "Hand". These should be able to manuver the hand in various ways.

<img src="../Images/Wrist Mechanisim.png" width=400px alt="Wrist Mechanisim">

<img src="../Images/Wrist mechanisim Close-up.png" width=400px alt="Wrist mechanisim Close-up">

<img src="../Images/Wrist top.png" width=400px alt="Wrist top">

<img src="../Images/Wrist flat.png" width=400px alt="Wrist flat">

<img src="../Images/Wrist down.png" width=400px alt="Wrist down">

<img src="../Images/Wrist up.png" width=400px alt="Wrist up">

<img src="../Images/Wrist left.png" width=400px alt="Wrist left">

<img src="../Images/Wrist right.png" width=400px alt="Wrist right">

I then 3D printed a prototype to see what problems exist. Here is the prototype:

<img src="../Images/Wrist prototype.JPG" width=400px alt="Wrist prototype">

<img src="../Images/Wrist string.JPG" width=400px alt="Elastic string holding the mechanisim">

<img src="../Images/Wrist knot.JPG" width=400px alt="Elastic string holding the hand on the wrist">

<img src="../Images/Wrist bending.JPG" width=400px alt="Wrist bending">

<img src="../Images/Wrist Sevo.JPG" width=400px alt="Wrist with servo">

I printed the nubs that are on the bottom of the hand to make easer to 3D print.

From what I can tell, there are no major issues with this prototype, so I think I will try to implement that into my design.


### Plan for next week

I should be able to, if I can get all of the pieces printed, have a full physical build of the hand to present by next week or the week after that. other than that, it's getting towards the end of the term, which means some other subjects will be expecting assignments, making it even more difficult to do blogs, which is why this one is a little late.