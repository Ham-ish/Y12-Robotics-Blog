# Robotics Blog 

## 3/4/23: The Last Blog of Term 1

### Overveiw

In prepereration for the holidays, I did a buncha cool stuff. I printed and tested a finger of the Hand and some more Omniwheel and put together some of the robotics for the Omniwheel.

### Omniwheel progress

3D printed a scale centeral piece and tested the scale of other pieces compared to it

<img src="../Images/Omniwheel real motors.png" width=400px alt="Images/Axel.png">


Learning how motor controlers work. Sort of.

<img src="../Images/Omniwheel real circuit.png" width=400px alt="Images/Axel.png">

This mechanism uses an arduino to control two motor controllers based on the inputs of a joystick

Motor controllers are quite complicated. They take two binary inputs to control the direction of a H-bridge circuit and a variable input between 0 and 255 to control the speed of the motor spinning using PWM. 

Problems that I encountered:

All of the wheels I have printed are too big for the slots in the side of the hemisphere

I still have not got the axel to inner wheel ration correct

How they can be solved:

Change the size of the wheels and side slots and continue to test axle and wheel sizes

Code for the Circuit

```c
#define B1enA 3
#define B1in1 4
#define B1in2 5
#define B1enB 4
#define B1in3 6
#define B1in4 7
#define B2enA 13
#define B2in1 12
#define B2in2 11
#define B2enB 9
#define B2in3 10
#define B2in4 8


int motorSpeedX = 0;
int motorSpeedY = 0;

void setup() {
  pinMode(B1enA, OUTPUT);
  pinMode(B1enB, OUTPUT);
  pinMode(B1in1, OUTPUT);
  pinMode(B1in2, OUTPUT);
  pinMode(B1in3, OUTPUT);
  pinMode(B1in4, OUTPUT);
  pinMode(B2enA, OUTPUT);
  pinMode(B2enB, OUTPUT);
  pinMode(B2in1, OUTPUT);
  pinMode(B2in2, OUTPUT);
  pinMode(B2in3, OUTPUT);
  pinMode(B2in4, OUTPUT);
  Serial.begin(9600);
}

void loop() {
  int xAxis = analogRead(A0); // Read Joysticks X-axis
  int yAxis = analogRead(A1); // Read Joysticks Y-axis

  // Y-axis used for forward and backward control for motor A
  if (yAxis < 470) {
    // Set Board Y backward
    digitalWrite(B1in1, HIGH);
    digitalWrite(B1in2, LOW);
    digitalWrite(B1in3, HIGH);
    digitalWrite(B1in4, LOW);
    motorSpeedY = map(yAxis, 470, 0, 0, 255);
  }
  else if (yAxis > 550) {
    // Set Motor A forward
    digitalWrite(B1in1, LOW);
    digitalWrite(B1in2, HIGH);
    digitalWrite(B1in3, LOW);
    digitalWrite(B1in4, HIGH);
    motorSpeedY = map(yAxis, 550, 1023, 0, 255);
  }
  // If joystick stays in middle the motor is not moving
  else {
    motorSpeedY = 0;
  }

if (xAxis < 470) {
    // Set Board X backward
    digitalWrite(B2in1, HIGH);
    digitalWrite(B2in2, LOW);
    digitalWrite(B2in3, HIGH);
    digitalWrite(B2in4, LOW);
    motorSpeedX = map(xAxis, 470, 0, 0, 255);
  }
  else if (xAxis > 550) {
    // Set Board X forward
    digitalWrite(B2in1, LOW);
    digitalWrite(B2in2, HIGH);
    digitalWrite(B2in3, LOW);
    digitalWrite(B2in4, HIGH);
    motorSpeedX = map(xAxis, 550, 1023, 0, 255);
  }
  // If joystick stays in middle the motor is not moving
  else {
    motorSpeedX = 0;
  }

  // Prevent buzzing at low speeds (Adjust according to your motors. My motors couldn't start moving if PWM value was below value of 70)

  analogWrite(B1enA, motorSpeedY); 
  analogWrite(B1enB, motorSpeedY); 
  analogWrite(B2enA, motorSpeedX); 
  analogWrite(B2enB, motorSpeedX); 
  Serial.print(motorSpeedY);
  Serial.print("\t");
  Serial.println(motorSpeedX);
}
```



### I 3D printed the hand pieces

I printed three parts to create a finger as a proof of concept, to make sure that my design would even work at all.

<video src="../Images/IMG_0212.mp4" controls="controls" style="max-width: 730px;">
</video>

And it did! I did not have a ready made axle for the "knuckles", so if it was not held taught the entire thing dissasembles, and I had to use sewing thread, because I didnt have any fishing line, which is what I was going to use. Due to this, the prototype fell apart several times, but it worked as a proof of concept.


### In Conclusion and plan for the holidays

what?
